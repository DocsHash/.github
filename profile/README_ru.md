
# DocHash

Децентрализованная система верификации документов через блокчейн Polygon

## Архитектура проекта

DocHash состоит из трех основных компонентов

**Smart Contracts** - Solidity контракт для хранения SHA-512 хешей документов в блокчейне Polygon  
**Backend API** - Litestar сервер с PostgreSQL для обработки файлов и синхронизации с блокчейном  
**Frontend Web** - Svelte приложение для пользовательского интерфейса регистрации и верификации

## Компоненты системы

### Blockchain Layer
- Смарт-контракт на Solidity для Polygon сети
- Функции хранения и получения хешей документов
- Поддержка localhost, Mumbai testnet, Polygon mainnet
- Уникальные verification_id для каждого документа

### Backend Service
- API сервер на Litestar с асинхронной архитектурой
- PostgreSQL база данных для кеширования блокчейн данных
- Web3.py интеграция для взаимодействия с контрактом
- Blockchain worker для мониторинга событий
- SHA-512 хеширование для совместимости с контрактом

### Frontend Application  
- Веб-интерфейс на Svelte с модульной архитектурой
- Drag-and-drop загрузка PDF документов
- Интерфейсы для регистрации и верификации
- Docker контейнеризация с Nginx

## Пользовательские сценарии

### Регистрация документа
1. Пользователь загружает PDF файл через веб-интерфейс
2. Система генерирует SHA-512 хеш документа
3. Хеш записывается в блокчейн контракт с уникальным ID
4. Пользователь получает verification_id для дальнейших проверок

### Верификация документа
Проверка подлинности документа тремя способами
- По verification_id полученному при регистрации
- По исходному PDF файлу через повторное хеширование  
- По известному SHA-512 хешу документа

### Результат верификации
Система возвращает статус подлинности с метаданными
- Статус верификации (найден/не найден в блокчейне)
- Временная метка записи в блокчейн
- Адрес создателя записи
- Детали транзакции

## Технические характеристики

**Blockchain Networks**
- Polygon Mainnet для продакшена
- Mumbai Testnet для тестирования  
- Localhost Hardhat для разработки

**Performance**
- Стоимость записи около 0.001-0.01 MATIC
- Чтение данных бесплатно
- Асинхронная обработка API запросов

**Security**
- Криптографическое хеширование SHA-512
- Неизменяемость записей в блокчейне
- Проверка целостности документов
- Защита от подделки через децентрализацию

## Структура репозиториев

```
dochash/
├── contracts/          # Solidity контракты и деплой скрипты
├── backend/           # API сервер и blockchain worker  
└── frontend/          # Веб-приложение Svelte
```

## Быстрый старт

### Контракты
```bash
cd contracts
npm install && npm run compile
npm run deploy-testnet
```

### Backend  
```bash
cd backend
docker-compose up --build
```

### Frontend
```bash  
cd frontend
yarn && yarn build
docker run -p 80:80 dochash-frontend
```

## Применение

DocHash решает задачи верификации документов в сферах где критична подлинность
- Юридическая документация и договоры
- Академические дипломы и сертификаты  
- Медицинские записи и рецепты
- Финансовая отчетность
- Интеллектуальная собственность
- Государственные документы

Система обеспечивает прозрачную и неизменяемую запись факта существования документа в определенный момент времени без раскрытия содержимого
